// TODO: Use events emitted on view, buy and search to update user's preference rank
